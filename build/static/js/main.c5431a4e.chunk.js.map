{"version":3,"sources":["components/ErrorMessage/ErrorMessage.js","components/ErrorBoundary.js","redux/reducers/books.js","redux/reducers/cart.js","redux/types.js","redux/reducers/wishlist.js","redux/reducers/index.js","redux/store.js","redux/localStorage.js","services/BookstoreService.js","bookstoreServiceContext.js","components/CartCounter.js","components/Navbar.js","hocs/withBookstoreService.js","redux/actions/books.js","redux/actions/cart.js","components/WishListButton.js","components/AddToCartButton.js","components/BookListItem/BookListItem.js","components/Loader/Loader.js","components/BookList/BookList.js","utils/index.js","redux/actions/wishlist.js","pages/HomePage.js","components/Cart/Cart.js","pages/CartPage.js","components/WishListItem/WishListItem.js","components/WishList/WishList.js","pages/WishListPage.js","App.js","index.js"],"names":["ErrorMessage","error","className","defaultProps","ErrorBoundary","state","hasError","this","props","children","Component","initialState","loading","items","bookReducer","globalState","action","undefined","books","type","payload","FETCH_BOOKS","findBook","id","find","book","updateItems","item","index","concat","slice","removeItem","filter","updateItemCount","value","findIndex","count","total","updatedItem","price","cartReducer","cart","title","createOrUpdateItem","wishlistReducer","wishlist","newItem","indexOf","rootReducer","booksReducer","persistedState","serializedState","localStorage","getItem","JSON","parse","loadFromLocalStorage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","subscribe","getState","bookIdArr","forEach","push","savedBooks","stringify","setItem","saveToLocalStorage","booksInitialState","BookstoreService","data","author","imageUrl","Promise","resolve","reject","setTimeout","Math","random","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","connect","reduce","acc","val","links","to","exact","Navbar","map","link","key","withBookstoreService","WrappedComponent","bookstoreService","fetchBooks","dispatch","getBooks","then","catch","booksError","addBookToCart","bookId","WishListButton","itemId","onAddToWishList","useSelector","onClick","AddToCartButton","onAddToCart","BookListItem","Loader","role","BookListRenderer","BookListContainer","functions","component","reduceRight","wrapped","f","withBookStoreService","addItemToWishList","HomePage","mapDispatchToProps","decrease","increase","CartPage","WishListItem","onRemove","WishList","useDispatch","WishListPage","App","path","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.c5431a4e.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nfunction ErrorMessage({ error }) {\r\n  return (\r\n    <div className=\"alert alert-danger error-message\">\r\n      <h4 className=\"alert-heading\">Warning!</h4>\r\n      <p className=\"mb-0\">{ error }. Try again later.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nErrorMessage.propTypes = {\r\n  error: PropTypes.string\r\n}\r\n\r\nErrorMessage.defaultProps = {\r\n  error: 'Something went wrong'\r\n}\r\n\r\nexport default ErrorMessage\r\n","import React, { Component } from 'react'\r\nimport ErrorMessage from './ErrorMessage'\r\n\r\n\r\nclass ErrorBoundary extends Component {\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true }\r\n  }\r\n\r\n  render() {\r\n    return this.state.hasError ? <ErrorMessage /> : this.props.children\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","import { REQUEST, SUCCESS, FAILURE, FETCH_BOOKS } from '../types'\r\n\r\n\r\nexport const initialState = {\r\n  loading: false,\r\n  items: [],\r\n  error: ''\r\n}\r\n\r\nconst bookReducer = ( globalState, action ) => {\r\n\r\n  if (globalState === undefined || globalState.books === undefined) {\r\n    return initialState\r\n  }\r\n\r\n  const { type, payload } = action\r\n  \r\n  switch (type) {\r\n    case FETCH_BOOKS + REQUEST:\r\n      return { ...globalState.books, loading: true, error: '' }\r\n    case FETCH_BOOKS + SUCCESS:\r\n      return { items: payload, loading: false, error: '' }\r\n    case FETCH_BOOKS + FAILURE:\r\n      return { ...globalState.books, error: payload, loading: false }\r\n    default:\r\n      return globalState.books\r\n  }\r\n}\r\n\r\nexport default bookReducer\r\n","import { \r\n  ADD_BOOK_TO_CART,\r\n  REMOVE_BOOK_FROM_CART,\r\n  INCREASE_CART_COUNT,\r\n  DECREASE_CART_COUNT \r\n} from '../types'\r\n\r\n\r\nconst initialState = {\r\n  items: [\r\n    // {\r\n    //   id: 1, // book id\r\n    //   title: 'Book Name',\r\n    //   count: 2,\r\n    //   total: 10*2\r\n    // }\r\n  ]\r\n}\r\n\r\nconst findBook = (id, globalState) => {\r\n  const { books: { items } } = globalState\r\n  return items.find(book => book.id === id)\r\n}\r\n\r\nconst createOrUpdateItem = (book, item = {}) => {\r\n  const { id = book.id, title = book.title, count = 0, total = 0 } = item\r\n\r\n  return {\r\n    id,\r\n    title,\r\n    count: count + 1,\r\n    total: total + book.price\r\n  }\r\n}\r\n\r\nconst updateItems = (item, index) => items => {\r\n  if (index === -1) {\r\n    return items.concat(item)\r\n  } else {\r\n    return [\r\n      ...items.slice(0, index),\r\n      item,\r\n      ...items.slice(index + 1)\r\n    ]\r\n  }\r\n}\r\n\r\nconst removeItem = id => items => {\r\n  return items.filter(item => item.id !== id)\r\n}\r\n\r\nconst updateItemCount = (book, value) => items => {\r\n  const index = items.findIndex(item => item.id === book.id)\r\n  if (index >= 0) {\r\n    const item = items[index]\r\n    const { count, total } = item\r\n\r\n    if (count + value === 0) {\r\n      return removeItem(item.id)(items)\r\n    }\r\n\r\n    const updatedItem = {\r\n      ...item,\r\n      count: count + value,\r\n      total: total + book.price * value\r\n    }\r\n\r\n    return updateItems(updatedItem, index)(items)\r\n  }\r\n  \r\n  return items\r\n}\r\n\r\n\r\nconst cartReducer = (globalState, action) => {\r\n\r\n  if (globalState === undefined || globalState.cart === undefined) {\r\n    return initialState\r\n  }\r\n\r\n  const { type, payload } = action\r\n\r\n  const { cart: { items } } = globalState\r\n  switch (type) {\r\n    case ADD_BOOK_TO_CART:\r\n      const book = findBook(payload, globalState)\r\n\r\n      const index = items.findIndex(item => item.id === book.id)\r\n      const item = createOrUpdateItem(book, items[index])\r\n      return {\r\n        items: updateItems(item, index)(items)\r\n      }\r\n    case REMOVE_BOOK_FROM_CART:\r\n      return {\r\n        items: removeItem(payload)(items)\r\n      }\r\n    case INCREASE_CART_COUNT:\r\n      return {\r\n        items: updateItemCount(findBook(payload, globalState), 1)(items)\r\n      }\r\n    case DECREASE_CART_COUNT:\r\n      return {\r\n        items: updateItemCount(findBook(payload, globalState), -1)(items)\r\n      }\r\n    default:\r\n      return globalState.cart\r\n  }\r\n}\r\n\r\nexport default cartReducer\r\n","export const REQUEST = 'REQUEST'\r\nexport const SUCCESS = 'SUCCESS'\r\nexport const FAILURE = 'FAILURE'\r\n\r\nexport const FETCH_BOOKS = 'FETCH_BOOKS_'\r\n\r\nexport const ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART'\r\nexport const REMOVE_BOOK_FROM_CART = 'REMOVE_BOOK_FROM_CART'\r\nexport const INCREASE_CART_COUNT = 'INCREASE_BOOK_COUNT_CART'\r\nexport const DECREASE_CART_COUNT = 'DECREASE_BOOK_COUNT_CART'\r\n\r\nexport const ADD_ITEM_TO_WISHLIST = 'ADD_ITEM_TO_WISHLIST'\r\nexport const REMOVE_ITEM_FROM_WISHLIST = 'REMOVE_ITEM_FROM_WISHLIST'\r\n","import { ADD_ITEM_TO_WISHLIST, REMOVE_ITEM_FROM_WISHLIST } from \"../types\"\r\n\r\n\r\nconst initialState = {\r\n  items: [\r\n    // id - bookId\r\n  ]\r\n}\r\n\r\nconst wishlistReducer = (globalState, action) => {\r\n\r\n  if (globalState === undefined || globalState.wishlist === undefined) {\r\n    return initialState\r\n  }\r\n\r\n  const { type, payload } = action\r\n\r\n  const { wishlist: { items } } = globalState\r\n  switch (type) {\r\n    case ADD_ITEM_TO_WISHLIST:\r\n      const newItem = +payload\r\n      const index = items.indexOf(newItem)\r\n      if (index === -1) {\r\n        return {\r\n          items: items.concat(newItem)\r\n        }\r\n      }\r\n      return { items }\r\n    case REMOVE_ITEM_FROM_WISHLIST:\r\n      return {\r\n        items: items.filter(item => item !== +payload)\r\n      }\r\n    default:\r\n      return globalState.wishlist\r\n  }\r\n}\r\n\r\nexport default wishlistReducer\r\n","import booksReducer from './books'\r\nimport cartReducer from './cart'\r\nimport wishlistReducer from './wishlist'\r\n\r\n\r\nconst rootReducer = (state, action) => ({\r\n  books: booksReducer(state, action),\r\n  cart: cartReducer(state, action),\r\n  wishlist: wishlistReducer(state, action)\r\n})\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducers'\r\nimport { loadFromLocalStorage, saveToLocalStorage } from './localStorage'\r\nimport { initialState as booksInitialState } from '../redux/reducers/books'\r\n\r\n\r\nlet persistedState = loadFromLocalStorage()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, persistedState,\r\n  composeEnhancers(\r\n    applyMiddleware(thunk)\r\n  )\r\n);\r\n\r\nstore.subscribe(() => {\r\n  const { cart, wishlist, books } = store.getState()\r\n\r\n  let bookIdArr = []\r\n  cart.items.forEach(item => bookIdArr.push(item.id))\r\n  wishlist.items.forEach(id => bookIdArr.push(id))\r\n  // remove duplicates\r\n  bookIdArr = bookIdArr.filter((book, index) => bookIdArr.indexOf(book) === index)\r\n\r\n  const savedBooks = books.items.filter( book => bookIdArr.indexOf(book.id) !== -1 )\r\n\r\n  saveToLocalStorage({\r\n    cart,\r\n    wishlist,\r\n    books: { ...booksInitialState, items: savedBooks } \r\n  })\r\n})\r\n\r\nexport default store\r\n","const localStateName = 'bookstore-state'\r\n\r\nexport const loadFromLocalStorage = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(localStateName)\r\n    if (!serializedState) {\r\n      return\r\n    }\r\n    return JSON.parse(serializedState)\r\n  } catch (error) {\r\n  }\r\n}\r\n\r\nexport const saveToLocalStorage = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    localStorage.setItem(localStateName, serializedState)\r\n  } catch (error) {\r\n  }\r\n}\r\n","export default class BookstoreService {\r\n  data = [{\r\n    id: 1,\r\n    title: 'JavaScript The Good Parts',\r\n    author: 'Douglas Crockford',\r\n    price: 15,\r\n    imageUrl: 'https://images-na.ssl-images-amazon.com/images/I/5131OWtQRaL._SX381_BO1,204,203,200_.jpg'\r\n  }, {\r\n    id: 2,\r\n    title: 'The Road to React',\r\n    author: 'Robin Wieruch',\r\n    price: 10,\r\n    imageUrl: 'https://m.media-amazon.com/images/I/31apmbgpwkL.jpg'\r\n  }, {\r\n    id: 3,\r\n    title: 'Eloquent JavaScript',\r\n    author: 'Marijn Haverbeke',\r\n    price: 12,\r\n    imageUrl: 'https://images-na.ssl-images-amazon.com/images/I/51-5ZXYtcML._SX377_BO1,204,203,200_.jpg'\r\n  }]\r\n\r\n  getBooks() {\r\n    return new Promise(( resolve, reject ) => {\r\n      setTimeout(() => {\r\n        if (Math.random() < 0.9) {\r\n          resolve(this.data)\r\n        } else {\r\n          reject('Bookstore service error')\r\n        }\r\n      }, 200)\r\n    })\r\n  }\r\n\r\n  getBook(id) {\r\n    return {\r\n      id\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nconst { \r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer \r\n} = React.createContext()\r\n\r\nexport {\r\n  BookstoreServiceProvider,\r\n  BookstoreServiceConsumer\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nfunction CartCounter({ count }) {\r\n  return (\r\n    <span className=\"cartCounter\">\r\n      Cart ({ count })\r\n    </span>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const count = state.cart.items.reduce((acc, val) => acc += val.count, 0)\r\n  return { count }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CartCounter)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport CartCounter from './CartCounter'\r\n\r\n\r\nconst links = [\r\n  { to: '/', title: 'Home', exact: true },\r\n  { to: '/wishlist', title: 'WishList'},\r\n  { to: '/cart', title: <CartCounter /> },\r\n]\r\n\r\n\r\nexport default function Navbar(props) {\r\n  \r\n  return(\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <NavLink to=\"/\" exact className=\"navbar-brand\">BookStore</NavLink>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarColor02\">\r\n        <ul className=\"navbar-nav ml-auto\">\r\n          { links.map( link => \r\n            <NavLink\r\n              to={ link.to }\r\n              exact={ link.exact }\r\n              key={ link.to }\r\n              className=\"nav-link\"\r\n            >{ link.title }</NavLink>\r\n          )}\r\n        </ul>\r\n\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { BookstoreServiceConsumer } from '../bookstoreServiceContext'\r\n\r\n\r\nconst withBookstoreService = () => (WrappedComponent) => {\r\n  return (props) => (\r\n    <BookstoreServiceConsumer>\r\n      {\r\n        (bookstoreService) => (\r\n          <WrappedComponent {...props} bookstoreService={bookstoreService} />\r\n        )\r\n      }\r\n    </BookstoreServiceConsumer>\r\n  )\r\n}\r\n\r\nexport default withBookstoreService\r\n","import { REQUEST, SUCCESS, FAILURE, FETCH_BOOKS } from '../types'\r\n\r\n\r\nconst booksRequested = () => ({\r\n  type: FETCH_BOOKS + REQUEST\r\n})\r\n\r\nconst loadBooks = (newBooks) => ({\r\n  type: FETCH_BOOKS + SUCCESS,\r\n  payload: newBooks\r\n})\r\n\r\nconst booksError = (error) => ({\r\n  type: FETCH_BOOKS + FAILURE,\r\n  payload: error\r\n})\r\n\r\nconst fetchBooks = (bookstoreService, dispatch) => () => {\r\n  dispatch(booksRequested())\r\n\r\n  bookstoreService.getBooks()\r\n    .then(books => dispatch(loadBooks(books)))\r\n    .catch(error => dispatch(booksError(error)))\r\n}\r\n\r\nexport {\r\n  fetchBooks\r\n}\r\n","import { ADD_BOOK_TO_CART, REMOVE_BOOK_FROM_CART, DECREASE_CART_COUNT, INCREASE_CART_COUNT } from '../types'\r\n\r\n\r\nexport const addBookToCart = (bookId) => ({\r\n  type: ADD_BOOK_TO_CART,\r\n  payload: bookId\r\n})\r\n\r\n\r\nexport const removeBookFromCart = (bookId) => ({\r\n  type: REMOVE_BOOK_FROM_CART,\r\n  payload: bookId\r\n})\r\n\r\nexport const descreaseItemCount = (bookId) => ({\r\n  type: DECREASE_CART_COUNT,\r\n  payload: bookId\r\n})\r\n\r\nexport const increaseItemCount = (bookId) => ({\r\n  type: INCREASE_CART_COUNT,\r\n  payload: bookId\r\n})\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nfunction WishListButton({ itemId, onAddToWishList }) {\r\n  const isAdded = useSelector(({ wishlist: { items } }) => (\r\n    items.indexOf(itemId) !== -1\r\n  ))\r\n\r\n  if (isAdded) {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-secondary disabled\"\r\n      >In Wishlist</button>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-outline-info\"\r\n      onClick={ onAddToWishList }\r\n    >Wishlist</button>\r\n  )\r\n}\r\n\r\nWishListButton.propTypes = {\r\n  itemId: PropTypes.number.isRequired,\r\n  onAddToWishList: PropTypes.func.isRequired\r\n}\r\n\r\nexport default WishListButton\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nfunction AddToCartButton({ itemId, onAddToCart }) {\r\n  const isAdded = useSelector(({ cart: { items } }) => (\r\n    items.findIndex( (item) => item.id === itemId) !== -1\r\n  ))\r\n\r\n  if (isAdded) {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-primary disabled ml-2\"\r\n      >In Cart</button>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-primary ml-2\"\r\n      onClick={ onAddToCart }\r\n    >Add to Cart</button>\r\n  )\r\n}\r\n\r\nAddToCartButton.propTypes = {\r\n  itemId: PropTypes.number.isRequired,\r\n  onAddToCart: PropTypes.func.isRequired\r\n}\r\n\r\nexport default AddToCartButton\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport WishListButton from '../WishListButton'\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\n\r\nfunction BookListItem({ book, onAddToCart, onAddToWishList }) {\r\n  const { id, title, author } = book\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <h4 className=\"card-title\">{ title }</h4>\r\n        <h6 className=\"card-subtitle mb-2 text-muted\">{ author }</h6>\r\n        <p className=\"card-text\">\r\n          Book Description\r\n        </p>\r\n        <WishListButton\r\n          itemId={ id }\r\n          onAddToWishList={ onAddToWishList }\r\n        />\r\n        <AddToCartButton\r\n          itemId={ id }\r\n          onAddToCart={ onAddToCart }\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nBookListItem.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  onAddToCart: PropTypes.func,\r\n  onAddToWishList: PropTypes.func\r\n}\r\n\r\nBookListItem.defaultProps = {\r\n  onAddToCart: () => {},\r\n  onAddToWishList: () => {}\r\n}\r\n\r\n\r\nexport default BookListItem\r\n","import React from 'react'\r\nimport './Loader.css'\r\n\r\n\r\nexport default function Loader() {\r\n  return(\r\n    <div className=\"spinner-border text-primary\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport withBookStoreService from '../../hocs/withBookstoreService'\r\nimport { compose } from '../../utils'\r\nimport { fetchBooks } from '../../redux/actions/books'\r\nimport { addBookToCart } from '../../redux/actions/cart'\r\nimport { addItemToWishList } from '../../redux/actions/wishlist'\r\nimport BookListItem from '../BookListItem'\r\nimport Loader from '../Loader'\r\nimport ErrorMessage from '../ErrorMessage'\r\nimport './BookList.css'\r\n\r\n\r\nfunction BookListRenderer({ books, onAddToCart, onAddToWishList }) {\r\n  return (\r\n    <ul className=\"book-list\">\r\n      { books.map( book => (\r\n        <li key={book.id}>\r\n          <BookListItem\r\n            book={ book }\r\n            onAddToCart={() => onAddToCart(book.id)}\r\n            onAddToWishList={() => onAddToWishList(book.id)}\r\n            />\r\n        </li>\r\n      )) }\r\n    </ul>\r\n  )\r\n}\r\n\r\nclass BookListContainer extends Component {\r\n  static propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n    fetchBooks: PropTypes.func.isRequired,\r\n    error: PropTypes.string,\r\n    onAddToCart: PropTypes.func\r\n  }\r\n\r\n  static defaultProps = {\r\n    onAddToCart: () => {},\r\n    onAddToWishList: () => {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchBooks()\r\n  }\r\n\r\n  render() {\r\n    const { items, error, loading, onAddToCart, onAddToWishList } = this.props\r\n\r\n    if (loading) {\r\n      return <Loader />\r\n    }\r\n\r\n    if (error) {\r\n      return <ErrorMessage error={error} />\r\n    }\r\n\r\n    return <BookListRenderer\r\n              books={items}\r\n              onAddToCart={onAddToCart}\r\n              onAddToWishList={onAddToWishList}\r\n            />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => state.books\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => ({\r\n  fetchBooks: fetchBooks(bookstoreService, dispatch), // returns a closure,\r\n  onAddToCart: (bookId) => dispatch(addBookToCart(bookId)),\r\n  onAddToWishList: (bookId) => dispatch(addItemToWishList(bookId))\r\n})\r\n\r\n\r\nexport default compose(\r\n  withBookStoreService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer)\r\n","export const compose = (...functions) => (component) => (\r\n  functions.reduceRight((wrapped, f) => f(wrapped), component)\r\n)\r\n","import { ADD_ITEM_TO_WISHLIST, REMOVE_ITEM_FROM_WISHLIST } from '../types'\r\n\r\n\r\nexport const addItemToWishList = (bookId) => ({\r\n  type: ADD_ITEM_TO_WISHLIST,\r\n  payload: bookId\r\n})\r\n\r\nexport const removeItemFromWishList = (bookId) => ({\r\n  type: REMOVE_ITEM_FROM_WISHLIST,\r\n  payload: bookId\r\n})\r\n","import React from 'react'\r\nimport BookList from '../components/BookList'\r\n\r\n\r\nfunction HomePage({ bookstoreService }) {\r\n  return (\r\n    <div>\r\n      <h1>Books</h1>\r\n      <BookList />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport './Cart.css'\r\nimport { removeBookFromCart, descreaseItemCount, increaseItemCount } from '../../redux/actions/cart'\r\n\r\n\r\nfunction Cart({ items, removeItem, increase, decrease }) {\r\n\r\n  const renderRow = (item, index) => {\r\n    const { id, title, count, total } = item\r\n\r\n    return (\r\n      <tr key={id}>\r\n        <td>{index + 1}</td>\r\n        <td>{title}</td>\r\n        <td>\r\n          {count}\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-secondary btn-sm ml-1\"\r\n            onClick={ () => increase(id) }\r\n          >+</button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-outline-secondary btn-sm ml-1\"\r\n            onClick={ () => decrease(id) }\r\n          >-</button>\r\n        </td>\r\n        <td>${total}</td>\r\n        <th>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-warning\"\r\n            onClick={ () => removeItem(id) }\r\n          >Delete</button>\r\n        </th>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  const total = items.reduce((acc, val) => acc += val.total, 0)\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Name</th>\r\n            <th>Quantity</th>\r\n            <th>Total</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          { items.map(renderRow) }\r\n        </tbody>\r\n      </table>\r\n\r\n      <div className=\"total\">\r\n        Total: ${total}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => state.cart\r\nconst mapDispatchToProps = {\r\n  removeItem: removeBookFromCart,\r\n  decrease: descreaseItemCount,\r\n  increase: increaseItemCount\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)\r\n","import React from 'react'\r\nimport Cart from '../components/Cart'\r\n\r\n\r\nfunction CartPage() {\r\n  return (\r\n    <div>\r\n      <h1>Cart</h1>\r\n      <Cart />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartPage\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\n\r\nfunction WishListItem({ item, onRemove, onAddToCart }) {\r\n\r\n  const { id, title, author } = item\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <h4 className=\"card-title\">{ title }</h4>\r\n        <h6 className=\"card-subtitle mb-2 text-muted\">{ author }</h6>\r\n        <p className=\"card-text\">\r\n          Book Description\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-outline-danger btn-sm ml-2\"\r\n          onClick={ onRemove }\r\n        >Remove</button>\r\n        <AddToCartButton itemId={ id } onAddToCart={ onAddToCart } />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nWishListItem.propTypes = {\r\n  item: PropTypes.object.isRequired,\r\n  onRemove: PropTypes.func,\r\n  onAddToCart: PropTypes.func\r\n}\r\n\r\nWishListItem.defaultProps = {\r\n  onRemove: () => {},\r\n  onAddToCart: () => {}\r\n}\r\n\r\nexport default WishListItem\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport WishListItem from '../WishListItem'\r\nimport './WishList.css'\r\nimport { removeItemFromWishList } from '../../redux/actions/wishlist'\r\nimport { addBookToCart } from '../../redux/actions/cart'\r\n\r\n\r\nfunction WishList() {\r\n\r\n  const items = useSelector(({ wishlist: { items }, books: { items: books } }) => {\r\n    return items.map(item => {\r\n      const book = books.find(book => book.id === item)\r\n      return book\r\n    })\r\n  })\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <ul className=\"wish-list\">\r\n      { items.map( item => (\r\n        <li key={item.id}>\r\n          <WishListItem\r\n            item={ item }\r\n            onAddToCart={() => dispatch(addBookToCart(item.id))}\r\n            onRemove={ () => dispatch(removeItemFromWishList(item.id)) }\r\n          />\r\n        </li>\r\n      )) }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default WishList\r\n","import React from 'react'\r\nimport WishList from '../components/WishList'\r\n\r\n\r\nfunction WishListPage() {\r\n  return (\r\n    <div>\r\n      <h1>WishList</h1>\r\n      <WishList />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WishListPage\r\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport './App.css'\nimport HomePage from './pages/HomePage'\nimport CartPage from './pages/CartPage'\nimport WishListPage from './pages/WishListPage'\n\n\nfunction App() {\n  return (\n    <div className=\"App container\">\n      <Navbar />\n      <Switch>\n        <Route path=\"/\" exact={ true } component={ HomePage } />\n        <Route path=\"/wishlist\" component={ WishListPage } />\n        <Route path=\"/cart\" component={ CartPage } />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport ErrorBoundary from './components/ErrorBoundary'\nimport store from './redux/store'\nimport BookstoreService from './services/BookstoreService'\nimport { BookstoreServiceProvider } from './bookstoreServiceContext'\nimport './index.css'\nimport App from './App'\n\n\nconst bookstoreService = new BookstoreService()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router basename={ process.env.PUBLIC_URL }>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}